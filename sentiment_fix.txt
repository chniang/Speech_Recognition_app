    def _analyze_sentiment(self, text: str) -> dict:
        """
        Analyse le sentiment du texte en français.
        
        Utilise une approche hybride :
        - Détection de mots positifs/négatifs en français
        - TextBlob comme backup
        """
        # Dictionnaire de mots positifs en français
        mots_positifs = [
            'excellent', 'bon', 'bien', 'super', 'génial', 'parfait',
            'formidable', 'magnifique', 'merveilleux', 'fantastique',
            'réussi', 'positif', 'agréable', 'efficace', 'performant',
            'qualité', 'satisfait', 'heureux', 'content', 'enthousiaste'
        ]
        
        # Dictionnaire de mots négatifs en français
        mots_negatifs = [
            'mauvais', 'mal', 'problème', 'échec', 'erreur', 'difficile',
            'négatif', 'désagréable', 'inefficace', 'médiocre',
            'insatisfait', 'malheureux', 'triste', 'inquiet', 'critique'
        ]
        
        # Convertir le texte en minuscules et en mots
        words = word_tokenize(text.lower(), language='french')
        
        # Compter les mots positifs et négatifs
        score_positif = sum(1 for word in words if word in mots_positifs)
        score_negatif = sum(1 for word in words if word in mots_negatifs)
        
        # Calculer la polarité
        total_mots_sentiment = score_positif + score_negatif
        if total_mots_sentiment > 0:
            polarity = (score_positif - score_negatif) / total_mots_sentiment
        else:
            # Fallback sur TextBlob si aucun mot de sentiment détecté
            blob = TextBlob(text)
            polarity = blob.sentiment.polarity
        
        # Classifier le sentiment
        if polarity > 0.2:
            sentiment = 'Positif'
        elif polarity < -0.2:
            sentiment = 'Négatif'
        else:
            sentiment = 'Neutre'
        
        # Calculer la subjectivité (ratio de mots de sentiment)
        subjectivity = total_mots_sentiment / len(words) if words else 0
        
        return {
            'sentiment': sentiment,
            'polarity_score': round(polarity, 2),
            'subjectivity': round(min(1.0, subjectivity * 5), 2)
        }
